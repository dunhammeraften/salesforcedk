<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <description>Committing to avoid unable to lock row</description>
        <name>CommitWorkaftercreate</name>
        <label>CommitWork after Create</label>
        <locationX>754</locationX>
        <locationY>3746</locationY>
        <actionName>c:CommitTransaction</actionName>
        <actionType>component</actionType>
        <connector>
            <targetReference>Save_new_Subscription</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <nameSegment>c:CommitTransaction</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Redirect_to_Quote</name>
        <label>Redirect to Quote</label>
        <locationX>336</locationX>
        <locationY>9026</locationY>
        <actionName>c:navigateEverywhereLFA</actionName>
        <actionType>component</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>destinationAction</name>
            <value>
                <stringValue>view</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>destinationRecordId</name>
            <value>
                <elementReference>QuoteId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>destinationType</name>
            <value>
                <stringValue>record</stringValue>
            </value>
        </inputParameters>
        <nameSegment>c:navigateEverywhereLFA</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>58.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_Not_Specified_Variable</name>
        <label>Assign Not Specified Variable</label>
        <locationX>842</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>NotSpecifiedBoolean</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Specified_Business_Internet_Case_Found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Clear_AdditionalSpecialTerms</name>
        <label>Clear AdditionalSpecialTerms</label>
        <locationX>468</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>AdditionalSpecialTerms</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Primary_Quote_on_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Empty_Quantity</name>
        <label>Empty Quantity</label>
        <locationX>336</locationX>
        <locationY>1682</locationY>
        <assignmentItems>
            <assignToReference>QuantitySumOTC</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuantitySumSubscription</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuantitySumVAS</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UpdatedLocationLineCollection</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>UpdatedLocationLineCollection</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Sort_Location_Lines</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Increase_QuantitySum</name>
        <label>QuantitySum</label>
        <locationX>1216</locationX>
        <locationY>2714</locationY>
        <assignmentItems>
            <assignToReference>QuantitySumSubscription</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuantitySumOTC</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuantitySumVAS</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_new_QuantitySum_to_QuoteLine</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>OTC_Changed_False</name>
        <label>OTC Changed False</label>
        <locationX>688</locationX>
        <locationY>4910</locationY>
        <assignmentItems>
            <assignToReference>OTCChanged</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_QuoteLineOTC_data</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>OTC_Changed_True</name>
        <label>OTC Changed True</label>
        <locationX>424</locationX>
        <locationY>4910</locationY>
        <assignmentItems>
            <assignToReference>OTCChanged</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_QuoteLineOTC_data</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_OTC_to_spaces</name>
        <label>Reset OTC to spaces</label>
        <locationX>853</locationX>
        <locationY>2414</locationY>
        <assignmentItems>
            <assignToReference>Loop_Location_Lines.OTC_product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Was_a_product_changed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_QuantitySumOTC</name>
        <label>Reset QuantitySumOTC</label>
        <locationX>754</locationX>
        <locationY>4478</locationY>
        <assignmentItems>
            <assignToReference>QuantitySumOTC</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_there_an_OTC_in_the_Location_Line</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_QuantitySumSubscription</name>
        <label>Reset QuantitySumSubscription</label>
        <locationX>754</locationX>
        <locationY>3422</locationY>
        <assignmentItems>
            <assignToReference>QuantitySumSubscription</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_QuoteLineSubscription_data</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_QuantitySumVAS</name>
        <label>Reset QuantitySumVAS</label>
        <locationX>754</locationX>
        <locationY>5702</locationY>
        <assignmentItems>
            <assignToReference>QuantitySumVAS</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_there_an_VAS_in_the_Location_Line</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_VAS_to_spaces</name>
        <label>Reset VAS to spaces</label>
        <locationX>853</locationX>
        <locationY>2114</locationY>
        <assignmentItems>
            <assignToReference>Loop_Location_Lines.VAS_product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_OTC_Null</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_AdditionalSpecialTerms</name>
        <label>Save AdditionalSpecialTerms</label>
        <locationX>204</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>AdditionalSpecialTerms</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Support on Home Office</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Primary_Quote_on_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_existing_Primary_Quote_ID</name>
        <label>Save existing Primary Quote ID</label>
        <locationX>182</locationX>
        <locationY>866</locationY>
        <assignmentItems>
            <assignToReference>QuoteId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Opportunity.SBQQ__PrimaryQuote__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_AdditionalSpecialTerms_Set</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_existing_SpecialTerms</name>
        <label>Save existing SpecialTerms</label>
        <locationX>50</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>ExistingSpecialTerms</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_existing_Quote.Additional_Special_Terms_on_Contract__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_AdditionalSpecialTerms</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_new_OTC</name>
        <label>Save new OTC</label>
        <locationX>556</locationX>
        <locationY>5210</locationY>
        <assignmentItems>
            <assignToReference>OTC</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.OTC_product__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Was_QuantitySumVAS_increased</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_new_QuantitySum_to_QuoteLine</name>
        <label>Save new QuantitySum to QuoteLine</label>
        <locationX>1216</locationX>
        <locationY>2822</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantitySumSubscription</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantitySumOTC</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantitySumVAS</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_QuoteLine_on_current_LocationLine2</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_new_Subscription</name>
        <label>Save new Subscription</label>
        <locationX>754</locationX>
        <locationY>3854</locationY>
        <assignmentItems>
            <assignToReference>Subscription</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.Subscription_product__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_QuoteLine_on_current_LocationLine</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_new_VAS</name>
        <label>Save new VAS</label>
        <locationX>622</locationX>
        <locationY>6134</locationY>
        <assignmentItems>
            <assignToReference>VAS</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.VAS_product__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Location_Lines</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_NoOfOTC_and_NoOfVAS_and_NoOfSubscription</name>
        <label>Save NoOfOTC and NoOfVAS and NoOfSubscription</label>
        <locationX>336</locationX>
        <locationY>7502</locationY>
        <assignmentItems>
            <assignToReference>NoOfOTC</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>QuoteLineOTCCollection</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NoOfVAS</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>QuoteLineVASCollection</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NoOfSubscription</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>QuoteLineSubscriptionCollection</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Any_Subscription_to_update</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_OTC_in_collection</name>
        <label>Save OTC in collection</label>
        <locationX>622</locationX>
        <locationY>4286</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineOTCCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>QuoteLineOTC</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Reset_QuantitySumOTC</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_OTC_in_collectionLast</name>
        <label>Save OTC in collection</label>
        <locationX>204</locationX>
        <locationY>7010</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineOTCCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>QuoteLineOTC</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>VAS_to_save</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_OTCToSave</name>
        <label>Save OTCToSave</label>
        <locationX>556</locationX>
        <locationY>4694</locationY>
        <assignmentItems>
            <assignToReference>OTCToSave</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Was_OTC_Changed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_OTCToSave_and_Reset_OTC</name>
        <label>Save OTCToSave and Reset OTC</label>
        <locationX>952</locationX>
        <locationY>4694</locationY>
        <assignmentItems>
            <assignToReference>OTC</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OTCToSave</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Was_QuantitySumVAS_increased</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_QuoteLineOTC_data</name>
        <label>Save QuoteLineOTC data</label>
        <locationX>556</locationX>
        <locationY>5102</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.Quote_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New_Business</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__PricebookEntryId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.OTC_PriceBookEntryId__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.OTC_Product_ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__ProductName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.OTC_Product_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantitySumOTC</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__Quote__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuoteId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.Activate_with_other_products__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__DynamicOptionId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.OTC_Product_Option_Feature__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__OptionType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Component</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__OptionLevel__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__ProductOption__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.OTC_Product_Option_ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.Quote_Document_Group__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.Subscription_Product_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__BundledQuantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.OTC_Product_Option_Quantity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__NonDiscountable__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__RequiredBy__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuoteLineSubscription.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.Sales_type_shadow__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New Business</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.Comp_Product_Gearing__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.OTC_Product_Gearing__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.Created_by_Automation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineOTC.SBQQ__Incomplete__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_new_OTC</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_QuoteLineSubscription_data</name>
        <label>Save QuoteLineSubscription data</label>
        <locationX>754</locationX>
        <locationY>3530</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.Quote_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New_Business</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__PricebookEntryId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.Subscription_PriceBookEntryId__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.Subscription_Product_ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__ProductName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.Subscription_Product_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantitySumSubscription</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__Quote__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuoteId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.Activate_with_other_products__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__DynamicOptionId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__OptionType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__OptionLevel__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__ProductOption__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.Quote_Document_Group__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__NonDiscountable__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__Bundle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.Sales_type_shadow__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New Business</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.Comp_Product_Gearing__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.Subscription_Product_Gearing__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.Created_by_Automation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__Incomplete__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Subscription_QuoteLine</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_QuoteLineVAS_data</name>
        <label>Save QuoteLineVAS data</label>
        <locationX>622</locationX>
        <locationY>6026</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.Quote_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New_Business</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__PricebookEntryId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.VAS_PriceBookEntryId__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.VAS_Product_ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__ProductName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.VAS_Product_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantitySumVAS</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__Quote__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuoteId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.Activate_with_other_products__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__DynamicOptionId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.VAS_Product_Option_Feature__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__OptionType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Component</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__OptionLevel__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__ProductOption__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.VAS_Product_Option_ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.Quote_Document_Group__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.Subscription_Product_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__BundledQuantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.VAS_Product_Option_Quantity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__RequiredBy__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuoteLineSubscription.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.Sales_type_shadow__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New Business</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.Comp_Product_Gearing__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Location_Lines.VAS_Product_Gearing__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.Created_by_Automation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__Incomplete__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>QuoteLineVAS.SBQQ__NonDiscountable__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_new_VAS</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_Subscription_quantity</name>
        <label>Save Subscription quantity</label>
        <locationX>622</locationX>
        <locationY>2822</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantitySumSubscription</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_updated_Subscription_QuoteLines_in_collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_Subscription_quantity1</name>
        <label>Save Subscription quantity</label>
        <locationX>204</locationX>
        <locationY>6602</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineSubscription.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantitySumSubscription</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_Subscription_QuoteLine_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_Subscription_QuoteLine_to_Collection</name>
        <label>Save Subscription QuoteLine to Collection</label>
        <locationX>204</locationX>
        <locationY>6710</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineSubscriptionCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>QuoteLineSubscription</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>OTC_to_Save</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_updated_LocationLine</name>
        <label>Save updated LocationLine</label>
        <locationX>754</locationX>
        <locationY>4070</locationY>
        <assignmentItems>
            <assignToReference>UpdatedLocationLineCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Location_Lines</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Was_QuantitySumOTC_increased</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_updated_LocationLine2</name>
        <label>Save updated LocationLine</label>
        <locationX>1216</locationX>
        <locationY>3038</locationY>
        <assignmentItems>
            <assignToReference>UpdatedLocationLineCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Location_Lines</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Location_Lines</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_updated_Subscription_QuoteLines_in_collection</name>
        <label>Save updated Subscription QuoteLines in collection</label>
        <locationX>622</locationX>
        <locationY>2930</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineSubscriptionCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>QuoteLineSubscription</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Was_Subscription_Product_Changed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_Vas_in_Collection</name>
        <label>Save Vas in Collection</label>
        <locationX>622</locationX>
        <locationY>5510</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineVASCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>QuoteLineVAS</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Reset_QuantitySumVAS</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_Vas_in_CollectionLast</name>
        <label>Save Vas in Collection</label>
        <locationX>204</locationX>
        <locationY>7310</locationY>
        <assignmentItems>
            <assignToReference>QuoteLineVASCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>QuoteLineVAS</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_NoOfOTC_and_NoOfVAS_and_NoOfSubscription</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_VasToSave</name>
        <label>Save VasToSave</label>
        <locationX>622</locationX>
        <locationY>5918</locationY>
        <assignmentItems>
            <assignToReference>VASToSave</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_QuoteLineVAS_data</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Save_VasToSave_and_reset_VAS</name>
        <label>Save VasToSave and reset VAS</label>
        <locationX>886</locationX>
        <locationY>5918</locationY>
        <assignmentItems>
            <assignToReference>VASToSave</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>VAS</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Location_Lines</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Subscription_Changed_False</name>
        <label>Subscription Changed False</label>
        <locationX>886</locationX>
        <locationY>3230</locationY>
        <assignmentItems>
            <assignToReference>SubscriptionChanged</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Reset_QuantitySumSubscription</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Subscription_Changed_true</name>
        <label>Subscription Changed True</label>
        <locationX>622</locationX>
        <locationY>3230</locationY>
        <assignmentItems>
            <assignToReference>SubscriptionChanged</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Reset_QuantitySumSubscription</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_QuoteLine_on_current_LocationLine</name>
        <label>Update QuoteLine on current LocationLine</label>
        <locationX>754</locationX>
        <locationY>3962</locationY>
        <assignmentItems>
            <assignToReference>Loop_Location_Lines.Quote_Line__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuoteLineSubscription.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_updated_LocationLine</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_QuoteLine_on_current_LocationLine2</name>
        <label>Update QuoteLine on current LocationLine</label>
        <locationX>1216</locationX>
        <locationY>2930</locationY>
        <assignmentItems>
            <assignToReference>Loop_Location_Lines.Quote_Line__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuoteLineSubscription.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Save_updated_LocationLine2</targetReference>
        </connector>
    </assignments>
    <collectionProcessors>
        <name>Sort_Location_Lines</name>
        <elementSubtype>SortCollectionProcessor</elementSubtype>
        <label>Sort Location Lines</label>
        <locationX>336</locationX>
        <locationY>1790</locationY>
        <collectionProcessorType>SortCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Location_Lines</collectionReference>
        <connector>
            <targetReference>Loop_Location_Lines</targetReference>
        </connector>
        <sortOptions>
            <doesPutEmptyStringAndNullFirst>true</doesPutEmptyStringAndNullFirst>
            <sortField>Subscription_product__c</sortField>
            <sortOrder>Asc</sortOrder>
        </sortOptions>
        <sortOptions>
            <doesPutEmptyStringAndNullFirst>true</doesPutEmptyStringAndNullFirst>
            <sortField>OTC_product__c</sortField>
            <sortOrder>Asc</sortOrder>
        </sortOptions>
        <sortOptions>
            <doesPutEmptyStringAndNullFirst>true</doesPutEmptyStringAndNullFirst>
            <sortField>VAS_product__c</sortField>
            <sortOrder>Asc</sortOrder>
        </sortOptions>
    </collectionProcessors>
    <decisions>
        <name>Any_OTC_to_create</name>
        <label>Any OTC to create ?</label>
        <locationX>336</locationX>
        <locationY>7910</locationY>
        <defaultConnector>
            <targetReference>Any_VAS_to_create</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_OTC_data_to_create</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>NoOfOTC</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_all_OTC</targetReference>
            </connector>
            <label>Yes, OTC data to create</label>
        </rules>
    </decisions>
    <decisions>
        <name>Any_Subscription_to_update</name>
        <label>Any Subscription to update ?</label>
        <locationX>336</locationX>
        <locationY>7610</locationY>
        <defaultConnector>
            <targetReference>Any_OTC_to_create</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_update_subscriptions</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>NoOfSubscription</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Subscription_QuoteLines</targetReference>
            </connector>
            <label>Yes, update subscriptions</label>
        </rules>
    </decisions>
    <decisions>
        <name>Any_VAS_to_create</name>
        <label>Any VAS to create ?</label>
        <locationX>336</locationX>
        <locationY>8210</locationY>
        <defaultConnector>
            <targetReference>Update_LocationLines_with_added_QuoteliineID</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_VAS_data_to_create</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>NoOfVAS</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_all_VAS</targetReference>
            </connector>
            <label>Yes, VAS data to create</label>
        </rules>
    </decisions>
    <decisions>
        <name>Decide_Next_Action</name>
        <label>Decide Next Action</label>
        <locationX>336</locationX>
        <locationY>8726</locationY>
        <defaultConnector>
            <targetReference>Update_Ready_for_Calculation_on_Quote</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Not_A_Specified_Opportunity_Screen</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>NotSpecifiedBoolean</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Ready_for_Calculation_on_Quote</targetReference>
            </connector>
            <label>Not A Specified Opportunity Screen</label>
        </rules>
        <rules>
            <name>Redirect_to_Quote_Action</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Business_Internet_Case.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Ready_for_Calculation_on_Quote</targetReference>
            </connector>
            <label>Redirect to Quote Action</label>
        </rules>
    </decisions>
    <decisions>
        <description>If AdditionalSpecialTerm is set vi need to append the existing multiselect picklist already on the qoute</description>
        <name>Is_AdditionalSpecialTerms_Set</name>
        <label>Is AdditionalSpecialTerms Set ?</label>
        <locationX>182</locationX>
        <locationY>974</locationY>
        <defaultConnector>
            <targetReference>Get_Location_Lines</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_AdditionalSpecialTerm_is_set</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>AdditionalSpecialTerms</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_existing_Quote</targetReference>
            </connector>
            <label>Yes AdditionalSpecialTerm is set</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Help_With_Data_Collection_or_Need_Customer_Project_Manager_selected</name>
        <label>Is Help With Data Collection or Need Customer Project Manager selected ?</label>
        <locationX>336</locationX>
        <locationY>458</locationY>
        <defaultConnector>
            <targetReference>Clear_AdditionalSpecialTerms</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_HWDC_or_NCPM_is_selected</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity.Need_Help_With_Data_Collection__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Opportunity.Need_Customer_Project_Manager__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_AdditionalSpecialTerms</targetReference>
            </connector>
            <label>Yes HWDC or NCPM is selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Opportunity_framework_or_specified</name>
        <label>Is Opportunity framework or specified?</label>
        <locationX>589</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>Assign_Not_Specified_Variable</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Not Specified</defaultConnectorLabel>
        <rules>
            <name>Specified</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity.Agreement_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Specified</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_Help_With_Data_Collection_or_Need_Customer_Project_Manager_selected</targetReference>
            </connector>
            <label>Specified</label>
        </rules>
    </decisions>
    <decisions>
        <description>OTC in location Line is null (not space) when data is created. I order to compare with flow variable it must bed changed to space</description>
        <name>Is_OTC_Null</name>
        <label>Is OTC Null ?</label>
        <locationX>985</locationX>
        <locationY>2306</locationY>
        <defaultConnector>
            <targetReference>Was_a_product_changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No OTC is not Null</defaultConnectorLabel>
        <rules>
            <name>Yes_OTC_is_Null</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Location_Lines.OTC_product__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Location_Lines.OTC_product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_OTC_to_spaces</targetReference>
            </connector>
            <label>Yes OTC is Null</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_there_an_OTC_in_the_Location_Line</name>
        <label>Is there an OTC in the Location Line ?</label>
        <locationX>754</locationX>
        <locationY>4586</locationY>
        <defaultConnector>
            <targetReference>Save_OTCToSave_and_Reset_OTC</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, there is not a OTC</defaultConnectorLabel>
        <rules>
            <name>Yes_there_is_a_OTC</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Location_Lines.OTC_product__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Location_Lines.OTC_product__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_OTCToSave</targetReference>
            </connector>
            <label>Yes, there is a OTC</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_there_an_VAS_in_the_Location_Line</name>
        <label>Is there an VAS in the Location Line ?</label>
        <locationX>754</locationX>
        <locationY>5810</locationY>
        <defaultConnector>
            <targetReference>Save_VasToSave_and_reset_VAS</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, there is not a VAS</defaultConnectorLabel>
        <rules>
            <name>Yes_there_is_a_VAS</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Location_Lines.VAS_product__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Location_Lines.VAS_product__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_VasToSave</targetReference>
            </connector>
            <label>Yes, there is a VAS</label>
        </rules>
    </decisions>
    <decisions>
        <description>VAS in location Line is null (not space) when data is created. I order to compare with flow variable it must bed changed to space</description>
        <name>Is_VAS_Null</name>
        <label>Is VAS Null ?</label>
        <locationX>985</locationX>
        <locationY>2006</locationY>
        <defaultConnector>
            <targetReference>Is_OTC_Null</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No VAS is not Null</defaultConnectorLabel>
        <rules>
            <name>Yes_VAS_is_Null</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Location_Lines.VAS_product__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Location_Lines.VAS_product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_VAS_to_spaces</targetReference>
            </connector>
            <label>Yes VAS is Null</label>
        </rules>
    </decisions>
    <decisions>
        <name>OTC_to_Save</name>
        <label>OTC to Save</label>
        <locationX>336</locationX>
        <locationY>6902</locationY>
        <defaultConnector>
            <targetReference>VAS_to_save</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, do not update</defaultConnectorLabel>
        <rules>
            <name>Yes_OTC_to_Save</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OTCToSave</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_OTC_in_collectionLast</targetReference>
            </connector>
            <label>Yes, OTC to Save</label>
        </rules>
    </decisions>
    <decisions>
        <name>Primary_Quote_on_Opportunity</name>
        <label>Primary Quote on Opportunity ?</label>
        <locationX>336</locationX>
        <locationY>758</locationY>
        <defaultConnector>
            <targetReference>Create_Quote</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Primary Quote</defaultConnectorLabel>
        <rules>
            <name>Yes_Primary_Quote_on_Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity.SBQQ__PrimaryQuote__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Opportunity.SBQQ__PrimaryQuote__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_existing_Primary_Quote_ID</targetReference>
            </connector>
            <label>Yes, Primary Quote on Opportunity</label>
        </rules>
    </decisions>
    <decisions>
        <name>Specified_Business_Internet_Case_Found</name>
        <label>Specified Business Internet Case Found?</label>
        <locationX>842</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>NotSpecifiedAgreement</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Case_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Business_Internet_Case.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>NotSpecifiedAgreement</targetReference>
            </connector>
            <label>Case Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>VAS_to_save</name>
        <label>VAS to save ?</label>
        <locationX>336</locationX>
        <locationY>7202</locationY>
        <defaultConnector>
            <targetReference>Save_NoOfOTC_and_NoOfVAS_and_NoOfSubscription</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, do not update</defaultConnectorLabel>
        <rules>
            <name>Yes_VAS_to_save</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>VASToSave</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_Vas_in_CollectionLast</targetReference>
            </connector>
            <label>Yes, VAS to save</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_a_product_changed</name>
        <label>Was a product changed ?</label>
        <locationX>985</locationX>
        <locationY>2606</locationY>
        <defaultConnector>
            <targetReference>Increase_QuantitySum</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No a product was not chaged</defaultConnectorLabel>
        <rules>
            <name>Yes_a_product_was_changed</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Subscription</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Loop_Location_Lines.Subscription_product__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OTC</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Loop_Location_Lines.OTC_product__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>VAS</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Loop_Location_Lines.VAS_product__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Was_QuantitySumSubscription_increased</targetReference>
            </connector>
            <label>Yes, a product was changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_OTC_Changed</name>
        <label>Was OTC Changed ?</label>
        <locationX>556</locationX>
        <locationY>4802</locationY>
        <defaultConnector>
            <targetReference>OTC_Changed_False</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No OTC was not changed</defaultConnectorLabel>
        <rules>
            <name>Yes_OTC_was_changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Location_Lines.OTC_product__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>OTC</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>OTC_Changed_True</targetReference>
            </connector>
            <label>Yes, OTC was changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_QuantitySumOTC_increased</name>
        <label>Was QuantitySumOTC increased ?</label>
        <locationX>754</locationX>
        <locationY>4178</locationY>
        <defaultConnector>
            <targetReference>Reset_QuantitySumOTC</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, QuantitySumOTC was not increased</defaultConnectorLabel>
        <rules>
            <name>Yes_QuantitySumOTC_was_increased</name>
            <conditionLogic>(1 AND 2) OR (3 AND 4)  OR (5 AND 6) OR (7 AND 8)</conditionLogic>
            <conditions>
                <leftValueReference>QuantitySumOTC</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OTC</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>SubscriptionChanged</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OTCToSave</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OTCToSave</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Location_Lines.VAS_product__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>VAS</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OTCToSave</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Location_Lines.OTC_product__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>OTC</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_OTC_in_collection</targetReference>
            </connector>
            <label>Yes, QuantitySumOTC was increased</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_QuantitySumSubscription_increased</name>
        <label>Was QuantitySumSubscription increased ?</label>
        <locationX>754</locationX>
        <locationY>2714</locationY>
        <defaultConnector>
            <targetReference>Was_Subscription_Product_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, QuantitySumSubscription was not increased</defaultConnectorLabel>
        <rules>
            <name>Yes_QuantitySumSubscription_was_increased</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>QuantitySumSubscription</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_Subscription_quantity</targetReference>
            </connector>
            <label>Yes, QuantitySumSubscription was increased</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_QuantitySumSubscription_increased_in_last_loop</name>
        <label>Was QuantitySumSubscription increased in last loop ?</label>
        <locationX>336</locationX>
        <locationY>6494</locationY>
        <defaultConnector>
            <targetReference>OTC_to_Save</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, QuantitySumSubscription was not increased</defaultConnectorLabel>
        <rules>
            <name>Yes_QuantitySumSubscription_was_increased_in_last_loop</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>QuantitySumSubscription</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_Subscription_quantity1</targetReference>
            </connector>
            <label>Yes, QuantitySumSubscription was increased in last loop</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_QuantitySumVAS_increased</name>
        <label>Was QuantitySumVAS increased ?</label>
        <locationX>754</locationX>
        <locationY>5402</locationY>
        <defaultConnector>
            <targetReference>Reset_QuantitySumVAS</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, QuantitySumVAS was not increased</defaultConnectorLabel>
        <rules>
            <name>Yes_QuantitySumVAS_was_increased</name>
            <conditionLogic>(1 AND 2 ) OR ((3 OR 5) AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>QuantitySumVAS</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>VAS</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>SubscriptionChanged</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>VASToSave</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OTCChanged</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Save_Vas_in_Collection</targetReference>
            </connector>
            <label>Yes, QuantitySumVAS was increased</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_Subscription_Product_Changed</name>
        <label>Was Subscription Product Changed ?</label>
        <locationX>754</locationX>
        <locationY>3122</locationY>
        <defaultConnector>
            <targetReference>Subscription_Changed_False</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Subscription Product was Not Changed</defaultConnectorLabel>
        <rules>
            <name>Yes_Subscription_Product_was_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Subscription</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Loop_Location_Lines.Subscription_product__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Subscription_Changed_true</targetReference>
            </connector>
            <label>Yes Subscription Product was Changed</label>
        </rules>
    </decisions>
    <description>This flow will create a specified Quote with Quote Lines from Location Lines.</description>
    <environments>Default</environments>
    <formulas>
        <name>ExistingSpecialTermWithAppendedValue</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!ExistingSpecialTerms}),{!AdditionalSpecialTerms}, SUBSTITUTE(SUBSTITUTE({!ExistingSpecialTerms}, &apos;[&apos; , &apos;&apos; ), 
&apos;]&apos;, &apos;;&apos; + {!AdditionalSpecialTerms}))</expression>
    </formulas>
    <formulas>
        <name>StartDatePlus30Days</name>
        <dataType>Date</dataType>
        <expression>TODAY() + 30</expression>
    </formulas>
    <interviewLabel>Quote Create Home Office from Location Line (Specified Agreement) {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Quote Create Home Office from Location Line (Specified Agreement)</label>
    <loops>
        <name>Loop_Location_Lines</name>
        <label>Loop Location Lines</label>
        <locationX>336</locationX>
        <locationY>1898</locationY>
        <collectionReference>Get_Location_Lines</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Is_VAS_Null</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Was_QuantitySumSubscription_increased_in_last_loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_all_OTC</name>
        <label>Create all OTC</label>
        <locationX>204</locationX>
        <locationY>8018</locationY>
        <connector>
            <targetReference>Any_VAS_to_create</targetReference>
        </connector>
        <inputReference>QuoteLineOTCCollection</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_all_VAS</name>
        <label>Create all VAS</label>
        <locationX>204</locationX>
        <locationY>8318</locationY>
        <connector>
            <targetReference>Update_LocationLines_with_added_QuoteliineID</targetReference>
        </connector>
        <inputReference>QuoteLineVASCollection</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Quote</name>
        <label>Create Quote</label>
        <locationX>490</locationX>
        <locationY>866</locationY>
        <assignRecordIdToReference>QuoteId</assignRecordIdToReference>
        <connector>
            <targetReference>Get_Location_Lines</targetReference>
        </connector>
        <inputAssignments>
            <field>Additional_Special_Terms_on_Contract__c</field>
            <value>
                <elementReference>AdditionalSpecialTerms</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>DLRS_Calc_in_progress__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Ready_for_Calculation__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Account__c</field>
            <value>
                <elementReference>Get_Opportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Opportunity2__c</field>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__PaperSize__c</field>
            <value>
                <stringValue>A4</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__PricebookId__c</field>
            <value>
                <elementReference>Get_Opportunity.Pricebook2Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Primary__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__StartDate__c</field>
            <value>
                <elementReference>StartDatePlus30Days</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__SubscriptionTerm__c</field>
            <value>
                <numberValue>36.0</numberValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Type__c</field>
            <value>
                <elementReference>Get_Opportunity.Type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__WatermarkShown__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>SBQQ__Quote__c</object>
    </recordCreates>
    <recordCreates>
        <name>Create_Subscription_QuoteLine</name>
        <label>Create Subscription QuoteLine</label>
        <locationX>754</locationX>
        <locationY>3638</locationY>
        <connector>
            <targetReference>CommitWorkaftercreate</targetReference>
        </connector>
        <inputReference>QuoteLineSubscription</inputReference>
    </recordCreates>
    <recordLookups>
        <name>Get_Business_Internet_Case</name>
        <label>Get Business Internet Case</label>
        <locationX>589</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Opportunity_framework_or_specified</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Business Internet</stringValue>
            </value>
        </filters>
        <filters>
            <field>Agreement_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Specified</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_existing_Quote</name>
        <label>Get existing Quote</label>
        <locationX>50</locationX>
        <locationY>1082</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Save_existing_SpecialTerms</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>QuoteId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SBQQ__Quote__c</object>
        <sortField>Id</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Location_Lines</name>
        <label>Get Location Lines</label>
        <locationX>336</locationX>
        <locationY>1574</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Empty_Quantity</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Address_Wash_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Valid</stringValue>
            </value>
        </filters>
        <filters>
            <field>Subscription_product__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Location_Line__c</object>
        <sortField>Subscription_product__c</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity</name>
        <label>Get Opportunity</label>
        <locationX>589</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Business_Internet_Case</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_AdditionalSpecialTerms</name>
        <label>Update AdditionalSpecialTerms</label>
        <locationX>50</locationX>
        <locationY>1298</locationY>
        <connector>
            <targetReference>Get_Location_Lines</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>QuoteId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Additional_Special_Terms_on_Contract__c</field>
            <value>
                <elementReference>ExistingSpecialTermWithAppendedValue</elementReference>
            </value>
        </inputAssignments>
        <object>SBQQ__Quote__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_LocationLines_with_added_QuoteliineID</name>
        <label>Update LocationLines with added QuoteliineID</label>
        <locationX>336</locationX>
        <locationY>8510</locationY>
        <connector>
            <targetReference>Update_Primary_Quote_on_Opportunity</targetReference>
        </connector>
        <inputReference>UpdatedLocationLineCollection</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Primary_Quote_on_Opportunity</name>
        <label>Update Primary Quote on Opportunity</label>
        <locationX>336</locationX>
        <locationY>8618</locationY>
        <connector>
            <targetReference>Decide_Next_Action</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Home_Office_Quote_Created__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__PrimaryQuote__c</field>
            <value>
                <elementReference>QuoteId</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Ready_for_Calculation_on_Quote</name>
        <label>Update Ready for Calculation on Quote</label>
        <locationX>336</locationX>
        <locationY>8918</locationY>
        <connector>
            <targetReference>Redirect_to_Quote</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>QuoteId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Ready_for_Calculation__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>SBQQ__Quote__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Subscription_QuoteLines</name>
        <label>Update Subscription QuoteLines</label>
        <locationX>204</locationX>
        <locationY>7718</locationY>
        <connector>
            <targetReference>Any_OTC_to_create</targetReference>
        </connector>
        <inputReference>QuoteLineSubscriptionCollection</inputReference>
    </recordUpdates>
    <runInMode>DefaultMode</runInMode>
    <screens>
        <name>NotSpecifiedAgreement</name>
        <label>Not a Specified Opportunity</label>
        <locationX>842</locationX>
        <locationY>758</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>NotSpecified</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;This is not a Specified Opportunity. You are not able to create a Specified Quote&lt;/strong&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <nextOrFinishButtonLabel>Close</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>463</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Opportunity</targetReference>
        </connector>
    </start>
    <status>Draft</status>
    <variables>
        <name>AdditionalSpecialTerms</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>EmptyQouteLine</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>ExistingSpecialTerms</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>NoOfOTC</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>NoOfSubscription</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>NoOfUnsavedOTC</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>NoOfVAS</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>NotSpecifiedBoolean</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OTC</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>OTCChanged</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>OTCToSave</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>QuantitySumOTC</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>QuantitySumSubscription</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>QuantitySumVAS</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>QuoteId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>QuoteLineOTC</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>QuoteLineOTCCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>QuoteLineSubscription</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>QuoteLineSubscriptionCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>QuoteLineVAS</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>QuoteLineVASCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Subscription</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>SubscriptionChanged</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>SubscriptionQuoteLineId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>UpdatedLocationLine</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Location_Line__c</objectType>
    </variables>
    <variables>
        <name>UpdatedLocationLineCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Location_Line__c</objectType>
    </variables>
    <variables>
        <name>VAS</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>VASToSave</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
</Flow>
